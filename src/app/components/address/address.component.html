<app-alert [alertDetails]="alert"></app-alert>
<div class="card-wrapper">
	@for (address of userAddress.address; track $index) {
	<div class="card-fluid">
		<div class="card-fuid__title">
			<h3>{{ address.firstName }} {{ address.lastName }}</h3>
			<div class="card-fluid__title-action">
				@if (address.default) {
				<span class="card-fluid__chip">Default</span>
				}
				<a href="#" (click)="editAddress($event)"
					><app-icon name="edit"></app-icon
				></a>
				<a href="#" (click)="openModal($event, address)"
					><app-icon name="trash"></app-icon
				></a>
			</div>
		</div>
		<p>{{ address.street }}</p>
		<p>{{ address.city }}, {{ address.state }} {{ address.zipCode }}</p>
		@if (!address.default) {
		<div class="card-footer">
			<button class="btn btn-outline">Set As Default</button>
		</div>
		}
	</div>
	}
</div>

<div class="modal-container" id="modal">
	<div class="modal">
		<div class="modal-header">
			<a (click)="closeModal()">
				<app-icon name="close"></app-icon>
			</a>
		</div>
		<div class="modal-body">
			<div class="icon">
				<img
					src="https://cdn-icons-png.flaticon.com/128/9221/9221430.png"
					alt="delete icon"
				/>
			</div>
			<p>Are you sure you want to delete this address?</p>
		</div>
		<div class="modal-footer">
			<div class="button-container button-center">
				<button class="btn btn-delete" (click)="deleteAddress()">
					Yes, I'm sure
				</button>
				<button class="btn btn-cancel" (click)="closeModal()">
					No, cancel
				</button>
			</div>
		</div>
	</div>
</div>
